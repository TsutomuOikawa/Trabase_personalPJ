$(function(){let t,r=$(window).width(),d=420,p=960;r<=d?t=350:r>=p?t=650:t=500;let i=location.pathname;if(i==="/")$(".js-japanMap").japanMap({width:t,selection:"prefecture",drawsBoxLine:!1,movesIslands:!0,onHover:function(a){$(".js-insert-pref").text(a.name)},onSelect:function(a){window.location="pref/"+a.code}});else if(i.includes("/mypage")){let a=[...Array(47)].map((e,s)=>s+1),n=[{code:0,name:"\u672A\u65C5\u884C",prefectures:[],color:"#808080",hoverColor:"#7ba23f"},{code:1,name:"\u65C5\u884C\u6E08\u307F",prefectures:[],color:"#2d6d4b",hoverColor:"#7ba23f"}],l=[];$(".js-get-visited").children().each(function(){l=Number($(this).data("pref")),n[1].prefectures.push(l)}),n[0].prefectures=a.filter(e=>n[1].prefectures.indexOf(e)==-1),$(".js-insert-progress").text(n[0].prefectures.length),$(".js-japanMap").japanMap({width:t,selection:"prefecture",areas:n,drawsBoxLine:!1,movesIslands:!0,onSelect:function(e){switch(e.area.code){case 0:window.location="/pref/"+e.code;break;case 1:let s=$(".js-modal"),c='<ul class="modal_list">',f=[];$(".mypage_contents:eq(1)").find("[data-pref="+e.code+"]").each(function(){let o=$(this);f.push('<li class="modal_action"><a href="'+o.children("a").attr("href")+'">'+o.find(".panel_title").text()+"</a></li>")}),f.forEach(function(o){c+=o}),$(".js-insert-content").html(c+"</ul>"),s.show()}}})}});
